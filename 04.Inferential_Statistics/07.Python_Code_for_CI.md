# 🧪 Confidence Interval in Python + Area Under Curve 📈

In this section, we compute the **Confidence Interval (CI)** using Python and calculate the **area under the curve (AUC)** for the CI range from a normal distribution.

We use:

- `scipy.stats.norm` for Z-distribution
- `matplotlib` and `numpy` for visualization
- Area calculation via integration over the curve (PDF)

---

## 📌 Step-by-Step Python Code

```python
import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm
from scipy.integrate import quad

# ----------------------------
# 📊 Step 1: Sample Statistics
# ----------------------------
sample_mean = 100        # Mean from your sample
sample_std = 15          # Standard deviation
sample_size = 50         # Number of observations
confidence_level = 0.95  # 95% confidence

# ----------------------------
# 🧠 Step 2: Critical Z-value
# ----------------------------
alpha = 1 - confidence_level
z_critical = norm.ppf(1 - alpha/2)  # two-tailed z-score

# ----------------------------
# 🧮 Step 3: Margin of Error
# ----------------------------
standard_error = sample_std / np.sqrt(sample_size)
margin_of_error = z_critical * standard_error

# ----------------------------
# 🎯 Step 4: Confidence Interval
# ----------------------------
ci_lower = sample_mean - margin_of_error
ci_upper = sample_mean + margin_of_error

print(f"95% Confidence Interval: [{ci_lower:.2f}, {ci_upper:.2f}]")

# ----------------------------
# 📐 Step 5: Area Under the Curve (AUC within CI)
# ----------------------------

# Define PDF of normal distribution
pdf = lambda x: norm.pdf(x, loc=sample_mean, scale=standard_error)

# Integrate the PDF over the CI
area_within_CI, _ = quad(pdf, ci_lower, ci_upper)
print(f"Area under curve within CI: {area_within_CI * 100:.2f}%")

# ----------------------------
# 📊 Step 6: Visualization
# ----------------------------
x = np.linspace(sample_mean - 4*standard_error, sample_mean + 4*standard_error, 1000)
y = norm.pdf(x, sample_mean, standard_error)

plt.figure(figsize=(10, 6))
plt.plot(x, y, label='Normal Distribution', color='blue')
plt.fill_between(x, y, where=(x >= ci_lower) & (x <= ci_upper), color='skyblue', alpha=0.5, label='Confidence Interval')
plt.axvline(ci_lower, color='red', linestyle='--', label='Lower Bound')
plt.axvline(ci_upper, color='green', linestyle='--', label='Upper Bound')
plt.title('Confidence Interval with Area Under Curve')
plt.xlabel('Value')
plt.ylabel('Probability Density')
plt.legend()
plt.grid(True)
plt.show()
```
